server:
    # --- Core Settings ---
    # Listen on all interfaces inside the Docker container
    interface: 0.0.0.0
    interface: ::0
    # Allow queries from your local network (adjust if needed)
    access-control: 0.0.0.0/0 allow
    access-control: ::0/0 allow

    # Hide identity for privacy
    hide-identity: yes
    hide-version: yes

    # --- Performance Tuning ---
    num-threads: 2                 
    msg-cache-size: 128m
    rrset-cache-size: 256m
    num-queries-per-thread: 2048
    outgoing-range: 4096
    prefetch: yes                 

    # --- DNSSEC Validation ---
    # Enable DNSSEC validation using the validator module
    module-config: "respip validator iterator"
    # Location of the root trust anchor
    trust-anchor-file: "/usr/local/etc/unbound/root.key"
    
    # --- Hardening ---
    edns-buffer-size: 1232
    prefer-ip4: yes

    # --- Logging & Remote Control ---
    verbosity: 1                   
    logfile: ""                   
    extended-statistics: yes
    statistics-cumulative: yes
    
    remote-control:
        control-enable: yes
        control-interface: /run/unbound.ctl
        control-use-cert: no

# --- RPZ (Response Policy Zone) ---
# This section remains the same
rpz:
    name: "99s.domainhotlist.rpz.domaintools.com"
    zonefile: "/usr/local/etc/unbound/rpz/domaintools.rpz"
    rpz-log: yes
    rpz-log-name: "domaintools"
